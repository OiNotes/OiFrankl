# Отчет об извлечении контента из PDF файлов Виктора Франкла

## Дата: 27 июля 2025

## Результаты извлечения

### Успешно извлечено:
- ✅ **1.pdf** - Плюрализм науки и единство человека: 63 фрагмента
- ✅ **2.pdf** - Детерминизм и гуманизм: 74 фрагмента  
- ✅ **3.pdf** - Детерминизм и свобода воли: 77 фрагментов
- ⚠️ **4.pdf** - Духовность, свобода и ответственность: 59 фрагментов (пропущен #40)
- ⚠️ **5.pdf** - Самотрансценденция как феномен человека: 132 фрагмента (пропущены #40, #134)
- ✅ **6.pdf** - Потенциализм и калейдоскопизм: 65 фрагментов
- ✅ **7.pdf** - Психотерапия на практике: 90 фрагментов

### Итого:
- **Извлечено:** 560 фрагментов
- **Пропущено:** 3 фрагмента из-за разрывов страниц в PDF

## Структура данных

Каждый фрагмент содержит:
```javascript
{
  "id": 1,                    // ID внутри главы
  "complexity": 7,            // Сложность от 1 до 10
  "chapter": "...",           // Название главы
  "original": "...",          // Оригинальный текст Франкла
  "analogy": "...",           // Современная аналогия
  "globalId": 1               // Глобальный ID в рамках всей книги
}
```

## Выполненные действия

1. **Очистка контента** - удален весь предыдущий контент из contentFull.js
2. **Создание инструментов** - разработаны скрипты для парсинга PDF:
   - `extract_step_by_step.py` - пошаговое извлечение с проверками
   - `combine_fragments.py` - объединение всех фрагментов
3. **Извлечение контента** - обработаны все 7 PDF файлов
4. **Объединение данных** - создан единый файл contentFull.js
5. **Обновление навигации** - исправлено количество фрагментов (560 вместо 283)
6. **Проверка качества** - код прошел проверку линтером

## Технические детали

- Использована библиотека `pdfplumber` для извлечения текста
- Автоматическая замена символа 'ĸ' на 'к' 
- Сохранены сырые тексты для возможности ручной проверки
- Все фрагменты имеют последовательную глобальную нумерацию

## Известные проблемы

1. **Пропущенные фрагменты** - 3 фрагмента не извлечены из-за разрывов страниц
2. **Лишний текст** - в некоторых аналогиях содержится служебная информация

## Рекомендации

1. Вручную добавить пропущенные фрагменты из сырых текстов
2. Почистить аналогии от служебного текста
3. Проверить работу приложения с реальным контентом

## Файлы

- `/frankl-reader/src/data/contentFull.js` - основной файл с контентом
- `/extracted/` - папка с промежуточными файлами для каждого PDF
- `/extracted_content.json` - JSON с полными данными для проверки